<!doctype html>
<html lang="it">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Amare senza Perdersi — Introduzione</title>
    <meta name="description" content="Un testo introduttivo gratuito. La domanda da cui nasce Il Potere di un Amore Presente." />
    
    <style>
        :root {
          --bg:#f6f4ef;
          --txt:#141414;
          --muted:#5a5a5a;
          --card:#ffffff;
          --line:#e7e2d9;
        }
        body {
          margin:0;
          font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
          background:var(--bg);
          color:var(--txt);
        }
        .wrap {
          max-width: 760px;
          margin: 0 auto;
          padding: 56px 20px;
        }
        .card {
          background:var(--card);
          border:1px solid var(--line);
          border-radius:16px;
          padding:36px 32px;
          box-shadow: 0 6px 24px rgba(0,0,0,.04);
        }
        .top {
          margin-bottom:18px;
          font-size: 13px;
          letter-spacing:.18em;
          text-transform: uppercase;
          color:#777;
        }
        h1 {
          font-size: 30px;
          margin: 0 0 18px;
          letter-spacing: .2px;
        }
        p {
          line-height: 1.65;
          margin: 0 0 18px;
          color:var(--muted);
          font-size: 16px;
        }
        em {
          color: var(--txt);
          font-style: italic;
        }
        .divider {
          height:1px;
          background:var(--line);
          margin:28px 0;
        }
        .quote {
          color:var(--txt);
          font-size: 16px;
          margin: 22px 0;
          padding-left: 14px;
          border-left: 3px solid var(--line);
        }
        form {
          margin-top: 28px;
          display:flex;
          gap:10px;
          flex-wrap:wrap;
        }
        input[type="email"]{
          flex: 1 1 280px;
          padding: 12px 14px;
          border-radius: 12px;
          border:1px solid var(--line);
          font-size: 16px;
          outline: none;
          background:#fff;
        }
        button{
          padding: 12px 18px;
          border-radius: 12px;
          border:1px solid #111;
          background:#111;
          color:#fff;
          font-size: 16px;
          cursor:pointer;
        }
        button:disabled {
          opacity:.6;
          cursor:not-allowed;
        }
        .fine {
          font-size: 13px;
          margin-top: 20px;
          color: #777;
          line-height:1.45;
        }
        .error {
          margin-top: 14px;
          color: #b00020;
          font-size: 14px;
        }
        .ok {
          margin-top: 14px;
          color: #1b6b2a;
          font-size: 14px;
        }
    </style>
</head>

<body>
<div class="wrap">
    <div class="card">
        
        <div class="top">Testo introduttivo gratuito</div>
        
        <h1>Il passaggio obbligato dell’amore</h1>
        
        <p>
            Questo testo è un’introduzione.
            Non al libro, ma alla domanda da cui il libro nasce.
        </p>
        
        <p>
            Che cos’è davvero l’amore, quando smettiamo di idealizzarlo?
            Quando non serve più a colmare un vuoto, a salvarci,
            a farci sentire scelti?
        </p>
        
        <p>
            Molte relazioni iniziano come promesse.
            Poche diventano presenza.
        </p>
        
        <p>
            Spesso chiamiamo amore ciò che è bisogno,
            attaccamento, paura di perdere,
            desiderio di essere riconosciuti.
            E quando tutto questo crolla,
            diciamo che l’amore è finito.
        </p>
        
        <p>
            <em>Il Potere di un Amore Presente</em> propone un altro sguardo.
            Non chiede di diventare migliori,
            né più spirituali.
            Chiede solo di restare presenti a ciò che accade,
            dentro e fuori di noi, quando entriamo in relazione.
        </p>
        
        <p>
            Questo libro nasce da una semplice osservazione:
            l’amore non è qualcosa da ottenere,
            ma uno spazio da abitare con consapevolezza.
        </p>
        
        <div class="divider"></div>
        
        <p class="quote">
            Se questa domanda ti appartiene,
            il libro comincia da qui.
        </p>
        
        <form id="bonusForm">
            <input
                    id="email"
                    type="email"
                    name="email"
                    placeholder="La tua email"
                    required
            />
            <button id="btn" type="submit">
                Ricevi il PDF introduttivo
            </button>
        </form>
        
        <div id="msg"></div>
        
        <div class="fine">
            Nessuna newsletter. Nessuna sequenza automatica.<br/>
            Riceverai solo questo PDF introduttivo.<br/>
            Puoi chiedere la rimozione in qualsiasi momento.
        </div>
    
    </div>
</div>

<script>
    const form = document.getElementById('bonusForm');
    const email = document.getElementById('email');
    const btn = document.getElementById('btn');
    const msg = document.getElementById('msg');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      msg.className = '';
      msg.textContent = '';
      btn.disabled = true;

      try {
        const res = await fetch('/.netlify/functions/send-bonus-track', {
          method: 'POST',
          headers: { 'Content-Type':'application/json' },
          body: JSON.stringify({ email: email.value.trim() })
        });

        const data = await res.json().catch(() => ({}));
        if (!res.ok) throw new Error(data.error || 'Errore. Riprova tra poco.');

        msg.className = 'ok';
        msg.textContent = 'Perfetto. Controlla la posta (anche Spam o Promozioni).';

      } catch (err) {
        msg.className = 'error';
        msg.textContent = err.message || 'Errore. Riprova.';
      } finally {
        btn.disabled = false;
      }
    });
</script>
</body>
</html>
